function Cthomb(c,h,a,b,e,d,g,f){this.world=c;this.stage=h;this.worldwidth=a;this.worldheight=b;this.viewwidth=e;this.viewheight=d;this.worldx=g;this.worldy=f;this.dead=this.cthlugBirthed=this.birth=!1;this.textures=["cthomb_1.png","cthomb_2.png","cthomb_3.png","cthomb_4.png","cthomb_5.png"];this.textureincrement=0;this.texturevector=1;this.deltav=new PARTSYS.Vector(2*Math.random()-1,1);GameObject.call(this,this.textures[0],24,24,a,b,e,d,g,f);this.timeoutID=setTimeout(this.updateTexture.bind(this),
160)}Cthomb.constructor=Cthomb;Cthomb.prototype=Object.create(GameObject.prototype);Cthomb.prototype.cleanup=function(){this.timeoutID&&clearTimeout(this.timeoutID)};Cthomb.prototype.everySecond=function(c){};
Cthomb.prototype.updateTexture=function(){var c;this.textureincrement+=this.texturevector;this.textureincrement>=this.textures.length&&(this.textureincrement=0);this.visible&&(c=PIXI.Texture.fromFrame(this.textures[this.textureincrement]),this.setTexture(c));this.timeoutID=setTimeout(this.updateTexture.bind(this),160/Math.abs(this.deltav.x))};
Cthomb.prototype.updatePosition=function(c,h){var a=this.worldx,b=this.worldy,e,d,g,f=!1,k=!1;this.deltav.y+=0.05;a=this.worldx+this.deltav.x;b=this.worldy+this.deltav.y;a>this.worldwidth&&(a=a-this.worldwidth+1);0>a&&(a=this.worldwidth+a-1);if(b>=this.worldheight-this.height)this.deltav.y=-this.deltav.y,b=this.worldheight-this.height,this.deltav.y/=1.5,this.deltav.x/=1.05,0.04>Math.abs(this.deltav.x)&&0.04>Math.abs(this.deltav.y)&&(this.dead=!0);else for(e=0;e<this.world.city.length;e++){d=this.world.city[e];
if(this.world.isCollidedCoords(d,a,b+2,1,this.height-4,!1)||this.world.isCollidedCoords(d,a+this.width,b+2,1,this.height-4,!1))this.deltav.x=-this.deltav.x,this.deltav.x/=1.5,f=!0;this.world.isCollidedCoords(d,a+2,b+this.height,this.width-4,1,!1)&&(this.deltav.y=-this.deltav.y,this.deltav.y/=1.5,this.deltav.x/=1.05,b=d.worldy-this.height,k=f=!0);g=this.world.isCollidedPoint(d,a,b+this.height,!1);d=this.world.isCollidedPoint(d,a+this.width,b+this.height,!1);g&&!d?(this.deltav.x=Math.abs(this.deltav.x),
a+=this.deltav.x,f=!0):!g&&d&&(this.deltav.x=-1*Math.abs(this.deltav.x),a+=this.deltav.x,f=!0);if(f){0.04>Math.abs(this.deltav.x)&&0.04>Math.abs(this.deltav.y)&&k&&(this.dead=!0);break}}this.worldx=a;this.worldy=b};
Cthomb.prototype.update=function(c,h){var a,b,e=-1;this.visible=!1;this.updatePosition(c,h);a=this.worldx;b=c+this.viewwidth;b>this.worldwidth&&(e=b-this.worldwidth-1);-1===e?this.worldx>c-this.width&&this.worldx<b+this.width&&(a=this.worldx-c,this.visible=!0):this.worldx>c-this.width&&this.worldx<=this.worldwidth?(a=this.worldx-c,this.visible=!0):this.worldx<e+this.width&&(a=this.worldwidth-c+this.worldx,this.visible=!0);this.visible&&(this.position.x=a,this.position.y=this.worldy)};
