function GameOver(a,b,c,d){this.stage=a;this.renderer=b;this.game=c;this.gamemen=d;this.men=[];this.playerfuel=4;a=PIXI.Texture.fromFrame("bg-1.png");this.bg1=new PIXI.Sprite(a,a.width,a.height);a=PIXI.Texture.fromFrame("bg-2.png");this.bg2=new PIXI.Sprite(a,a.width,a.height);this.bg2.position.y=540-this.bg2.height;a=PIXI.Texture.fromFrame("moon.png");this.moon=new PIXI.Sprite(a,a.width,a.height);this.moon.position.x=480-this.moon.width/2;this.moon.position.y=50;this.stage.addChild(this.bg1);this.stage.addChild(this.bg2);
this.stage.addChild(this.moon);this.city=[];this.cthings=[];this.particlesystem=new PARTSYS.ParticleSystem;this.buildCity();this.congrats();this.sound=(new Howl({urls:["resources/sounds/gameover.mp3"],volume:1})).play()}GameOver.WORLDMAX=960;GameOver.constructor=GameOver;GameOver.prototype=Object.create(Object.prototype);
GameOver.prototype.congrats=function(){var a,b,c;for(c=b=0;c<this.gamemen.length;c++)"saved"===this.gamemen[c].status&&b++;a=new PIXI.Text("Game Over!",{font:"20px Play",fill:"white",align:"left"});a.position.x=480-a.width/2;a.position.y=this.moon.position.y+this.moon.height+5;this.stage.addChild(a);c=new PIXI.Text("Your final SCORE: "+this.game.score,{font:"20px Play",fill:"red",align:"left"});c.position.x=480-c.width/2;c.position.y=a.y+a.height+5;this.stage.addChild(c);b=new PIXI.Text("You only saved "+
b+" of "+this.gamemen.length+" men",{font:"20px Play",fill:"white",align:"left"});b.position.x=480-b.width/2;b.position.y=c.y+c.height+5;this.stage.addChild(b);c=new PIXI.Text("Are you going to let them get away with it?\nMan up and hit the 'Enter' key to continue the fight...",{font:"20px Play",fill:"white",align:"center"});c.position.x=480-c.width/2;c.position.y=b.y+b.height+5;this.stage.addChild(c)};
GameOver.prototype.generateEmitter=function(a,b,c){var d;d=new PARTSYS.Emitter;d.x=a;d.y=540-Math.floor(Math.random()*c);d.area={xanchor:0,yanchor:0,width:b,height:2,radius:0};d.density={min:25,max:50};d.angle={min:267,max:273};d.speed={min:1,max:2};d.rotation=0;d.particlerotation={min:-5,max:5};d.lifetime={min:10,max:15};d.bounded={x:0,y:0,width:960,height:540,type:"die"};d.maxparticles=0;d.dienoparticles=!1;d.onCreateParticle=this.createFireParticle.bind(this);d.onUpdateParticles=this.updateParticles.bind(this);
d.onRemoveParticle=this.removeParticle.bind(this);this.particlesystem.addEmitter("fire"+a,d);c=new PARTSYS.Emitter;c.x=a;c.y=d.y;c.area={xanchor:0,yanchor:0,width:b,height:2,radius:0};c.density={min:2,max:5};c.angle={min:267,max:273};c.speed={min:0.25,max:0.5};c.rotation=0;c.particlerotation={min:-5,max:5};c.lifetime={min:240,max:340};c.bounded={x:0,y:0,width:960,height:540,type:"die"};c.maxparticles=0;c.dienoparticles=!1;c.onCreateParticle=this.createSmokeParticle.bind(this);c.onUpdateParticles=
this.updateParticles.bind(this);c.onRemoveParticle=this.removeParticle.bind(this);this.particlesystem.addEmitter("smoke"+a,c)};GameOver.prototype.createFireParticle=function(a){var b=PIXI.Texture.fromFrame("explodicle.png");a.sprite=new PIXI.Sprite(b,32,32);a.sprite.position.x=a.position.x;a.sprite.position.y=a.position.y;a.sprite.anchor.x=0.5;a.sprite.anchor.y=0.5;this.stage.addChild(a.sprite)};
GameOver.prototype.createSmokeParticle=function(a){var b=PIXI.Texture.fromFrame("smokicle.png");a.sprite=new PIXI.Sprite(b,32,32);a.sprite.position.x=a.position.x;a.sprite.position.y=a.position.y;a.sprite.anchor.x=0.5;a.sprite.anchor.y=0.5;this.stage.addChild(a.sprite)};GameOver.prototype.updateParticles=function(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],d.visible=!0,d.sprite.position.x=d.position.x,d.sprite.position.y=d.position.y,d.sprite.rotation=PARTSYS.degreesToRadians(d.angle)};
GameOver.prototype.removeParticle=function(a){this.stage.removeChild(a.sprite);a.sprite=null};
GameOver.prototype.buildCity=function(){for(var a=0,b,c,d;a<GameOver.WORLDMAX;)b=Math.ceil(3*Math.random())-1,160>GameOver.WORLDMAX-a&&(b=0),0===b?(b=new BuildingObject("building03x1.png",80,156,GameOver.WORLDMAX,540,960,540,a,384),this.generateEmitter(a,80,156),a+=80):1===b?(b=new BuildingObject("building02x1.png",80,188,GameOver.WORLDMAX,540,960,540,a,352),this.generateEmitter(a,80,188),a+=80):(b=new BuildingObject("building01x2.png",160,125,GameOver.WORLDMAX,540,960,540,a,415),this.generateEmitter(a,
160,125),a+=160),0.75>Math.random()&&(c=b.worldx+Math.floor(b.width/2)-6,d=b.worldy-24,c=new ManObject(this,GameWorld.WORLDMAX,540,960,540,c,d),this.stage.addChild(c),this.men.push({sprite:c,flyingsprite:null,status:"standing",fallheight:null})),this.stage.addChild(b),this.city.push(b);for(b=0;10>b;b++)a=Math.floor(900*Math.random()),c=Math.floor(300*Math.random()),a=new Cthing(this,this.stage,GameOver.WORLDMAX,540,960,540,a,c),this.cthings.push(a),this.stage.addChild(a)};
GameOver.prototype.cleanup=function(){this.sound.stop()};GameOver.prototype.status=function(){return!0};GameOver.prototype.secondTick=function(a){var b;for(b=0;b<this.cthings.length;b++)this.cthings[b].everySecond(a)};GameOver.prototype.update=function(a){var b;for(b=0;b<this.city.length;b++)this.city[b].update(0);for(b=0;b<this.men.length;b++)this.men[b].sprite.update(0,this.men[b],null,a);for(b=0;b<this.cthings.length;b++)this.cthings[b].update(0,a);this.particlesystem.update(a);this.renderer.render(this.stage)};
GameOver.prototype.checkKeyUp=function(a){};GameOver.prototype.checkKeyDown=function(a){};
