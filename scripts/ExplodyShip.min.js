function ExplodyShip(a, d, c, b, f, e, h, k, l, g) {
    var m = -1;
    this.stage = a;
    this.worldwidth = b;
    this.worldheight = f;
    this.viewwidth = e;
    this.viewheight = h;
    this.worldx = k;
    this.worldy = l;
    this.playerdirection = c;
    this.onDone = null;
    this.particlesystem = d;
    f = new PARTSYS.Field(0, 0, e, h);
    f.onFieldInfluenced = this.applyGravity.bind(this);
    a = new PARTSYS.Emitter;
    a.x = k;
    a.y = l;
    a.area = {xanchor: 0.5, yanchor: 0.5, width: 1, height: 1, radius: 0};
    a.density = {min: 1, max: 5};
    a.angle = {min: 0, max: 359};
    a.speed = {min: 1, max: 3};
    a.rotation = 0;
    a.particlerotation = {min: -5,
        max                  : 5};
    a.bounded = {x: -32, y: -64, width: e + 64, height: h + 64, type: "die"};
    a.maxparticles = 10;
    a.dienoparticles = !0;
    a.lockparticles = !0;
    a.emitterfields = [f];
    a.onCreateParticle = this.createParticle.bind(this);
    a.onUpdateParticles = this.updateParticles.bind(this);
    a.onRemoveParticle = this.removeParticle.bind(this);
    a.onCleanup = this.cleanup.bind(this);
    c = new PARTSYS.Emitter;
    c.x = k;
    c.y = l;
    c.area = {xanchor: 0.5, yanchor: 0.5, width: 1, height: 1, radius: 0};
    c.density = {min: 100, max: 500};
    c.angle = {min: 0, max: 359};
    c.speed = {min: 5, max: 15};
    c.rotation =
        0;
    c.particlerotation = {min: -1, max: 1};
    c.lifetime = {min: 120, max: 300};
    c.bounded = {x: -32, y: -128, width: e + 32, height: h + 160, type: "die"};
    c.maxparticles = 500;
    c.dienoparticles = !0;
    c.lockparticles = !0;
    c.emitterfields = [f];
    c.onCreateParticle = this.createFireParticle.bind(this);
    c.onUpdateParticles = this.updateParticles.bind(this);
    c.onRemoveParticle = this.removeParticle.bind(this);
    b = new PARTSYS.Emitter;
    b.x = k;
    b.y = l;
    b.area = {xanchor: 0.5, yanchor: 0.5, width: 1, height: 1, radius: 10};
    b.density = {min: 250, max: 500};
    b.angle = {min: 0, max: 359};
    b.speed = {min: 1, max: 2};
    b.rotation = 0;
    b.particlerotation = {min: -1, max: 1};
    b.lifetime = {min: 30, max: 120};
    b.bounded = {x: -32, y: -128, width: e + 32, height: h + 160, type: "die"};
    b.maxparticles = 500;
    b.dienoparticles = !0;
    b.lockparticles = !0;
    b.emitterfields = [f];
    b.onCreateParticle = this.createSmokeParticle.bind(this);
    b.onUpdateParticles = this.updateParticles.bind(this);
    b.onRemoveParticle = this.removeParticle.bind(this);
    e = g + this.viewwidth;
    e > this.worldwidth && (m = e - this.worldwidth - 1);
    -1 === m ? (a.x = this.worldx - g, c.x = this.worldx - g, b.x =
        this.worldx - g) : this.worldx <= m ? (a.x = this.worldwidth - g + this.worldx, c.x = this.worldwidth - g + this.worldx, b.x = this.worldwidth - g + this.worldx) : (a.x = this.worldx - g, c.x = this.worldx - g, b.x = this.worldx - g);
    d.addEmitter("junk1", a);
    d.addEmitter("fire1", c);
    d.addEmitter("smoke1", b)
}
ExplodyShip.constructor = ExplodyShip;
ExplodyShip.prototype = Object.create(Object.prototype);
ExplodyShip.prototype.createParticle = function (a) {
    var d = PIXI.Texture.fromFrame("ship_wreck_" + Math.ceil(6 * Math.random()) + ".png");
    a.sprite = new PIXI.Sprite(d, 32, 32);
    a.sprite.position.x = a.position.x;
    a.sprite.position.y = a.position.y;
    a.sprite.anchor.x = 0.5;
    a.sprite.anchor.y = 0.5;
    this.stage.addChild(a.sprite)
};
ExplodyShip.prototype.createFireParticle = function (a) {
    var d = PIXI.Texture.fromFrame("explodicle.png");
    a.sprite = new PIXI.Sprite(d, 2, 2);
    a.sprite.position.x = a.position.x;
    a.sprite.position.y = a.position.y;
    a.sprite.anchor.x = 0.5;
    a.sprite.anchor.y = 0.5;
    this.stage.addChild(a.sprite)
};
ExplodyShip.prototype.createSmokeParticle = function (a) {
    var d = PIXI.Texture.fromFrame("smokicle.png");
    a.sprite = new PIXI.Sprite(d, 2, 2);
    a.sprite.position.x = a.position.x;
    a.sprite.position.y = a.position.y;
    a.sprite.anchor.x = 0.5;
    a.sprite.anchor.y = 0.5;
    this.stage.addChild(a.sprite)
};
ExplodyShip.prototype.updateParticles = function (a, d) {
    var c, b;
    for (c = 0; c < d.length; c++)b = d[c], b.sprite.position.x = b.position.x, b.sprite.position.y = b.position.y, b.sprite.rotation = PARTSYS.degreesToRadians(b.angle)
};
ExplodyShip.prototype.removeParticle = function (a) {
    this.stage.removeChild(a.sprite);
    a.sprite = null
};
ExplodyShip.prototype.applyWell = function (a, d, c, b) {
    var f = 0, e = 0, f = d - a.position.x, e = c - a.position.y;
    a = b / Math.pow(f * f + e * e, 1.5);
    return new PARTSYS.Vector(f * a, e * a)
};
ExplodyShip.prototype.applyGravity = function (a) {
    a.velocity.selfAdd(this.applyWell(a, 400, 1E3, 1E4))
};
ExplodyShip.prototype.cleanup = function () {
    this.onDone()
};
ExplodyShip.prototype.update = function (a, d) {
};
ExplodyShip.prototype.everySecond = function (a) {
};
ExplodyShip.prototype.keyreleased = function (a) {
};
ExplodyShip.prototype.keypressed = function (a) {
};
